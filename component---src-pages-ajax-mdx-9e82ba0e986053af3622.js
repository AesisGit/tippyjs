(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"9MEg":function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return b})),t.d(a,"default",(function(){return d}));t("rGqo"),t("q1tI");var n=t("7ljp"),c=t("7oih"),s=t("+thL");t("qKvR");function o(){return(o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function p(e,a){if(null==e)return{};var t,n,c=function(e,a){if(null==e)return{};var t,n,c={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(c[t]=e[t]);return c}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(c[t]=e[t])}return c}const b={},m=e=>function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(n.b)("div",a)},N=m("Demo"),r=m("Tippy"),l=m("Button"),k={_frontmatter:b},j=c.a;function d(e){let{components:a}=e,t=p(e,["components"]);return Object(n.b)(j,o({},k,t,{components:a,mdxType:"MDXLayout"}),Object(n.b)("p",null,"Initiating AJAX requests is facilitated by lifecycle hooks. This allows you to\ndo very powerful things. For example, let's say you wanted to show a new image\ninside a tooltip each time it gets shown:"),Object(n.b)(N,{mdxType:"Demo"},Object(n.b)(s.a,{mdxType:"Ajax"},"Hover for a new image")),Object(n.b)("p",null,"Let's walk through a little tutorial to learn how to do this."),Object(n.b)("p",null,"First, let's setup our HTML:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"html"},Object(n.b)("pre",o({parentName:"div"},{className:"language-html"}),Object(n.b)("code",o({parentName:"pre"},{className:"language-html"}),Object(n.b)("span",o({parentName:"code"},{className:"token tag"}),Object(n.b)("span",o({parentName:"span"},{className:"token tag"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"<"),"button")," ",Object(n.b)("span",o({parentName:"span"},{className:"token attr-name"}),"id"),Object(n.b)("span",o({parentName:"span"},{className:"token attr-value"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"="),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),'"'),"ajax-tippy",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),'"')),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),">")),"Hover for a new image",Object(n.b)("span",o({parentName:"code"},{className:"token tag"}),Object(n.b)("span",o({parentName:"span"},{className:"token tag"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"</"),"button"),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),">"))))),Object(n.b)("p",null,"Now, let's add some JavaScript:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(n.b)("pre",o({parentName:"div"},{className:"language-js"}),Object(n.b)("code",o({parentName:"pre"},{className:"language-js"}),Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"tippy"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"#ajax-tippy",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n  content",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"Loading...",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// This prop is recommended if your tooltip changes size while showing"),"\n  flipOnUpdate",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",o({parentName:"code"},{className:"token boolean"}),"true"),"\n",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"Here's the result so far (nothing happens yet!):"),Object(n.b)(N,{mdxType:"Demo"},Object(n.b)(r,{content:"Loading...",animation:"fade",animateFill:!1,mdxType:"Tippy"},Object(n.b)(l,{mdxType:"Button"},"Hover for a new image"))),Object(n.b)("p",null,"To initiate the AJAX request every time the tippy shows, use the ",Object(n.b)("code",o({parentName:"p"},{className:"language-text"}),"onShow"),"\nlifecycle:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(n.b)("pre",o({parentName:"div"},{className:"language-js"}),Object(n.b)("code",o({parentName:"pre"},{className:"language-js"}),Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"tippy"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"#ajax-tippy",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n  content",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"Loading...",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n  flipOnUpdate",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),":")," ",Object(n.b)("span",o({parentName:"code"},{className:"token boolean"}),"true"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"onShow"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// Code here is executed every time the tippy shows"),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),"\n",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"Using ",Object(n.b)("code",o({parentName:"p"},{className:"language-text"}),"fetch"),", we can fetch a random image from an Unsplash API:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(n.b)("pre",o({parentName:"div"},{className:"language-js"}),Object(n.b)("code",o({parentName:"pre"},{className:"language-js"}),Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"tippy"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"#ajax-tippy",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// ..."),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"onShow"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"fetch"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"https://unsplash.it/200/?random",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"then"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"response")," ",Object(n.b)("span",o({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"response"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"blob"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"then"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"blob")," ",Object(n.b)("span",o({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// Convert the blob into a URL"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token keyword"}),"const")," ",Object(n.b)("span",o({parentName:"code"},{className:"token constant"}),"url")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token constant"}),"URL"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"createObjectURL"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),"blob",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// Create an image"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token keyword"}),"const")," ",Object(n.b)("span",o({parentName:"code"},{className:"token constant"}),"image")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token op keyword"}),"new")," ",Object(n.b)("span",o({parentName:"code"},{className:"token class-name"}),"Image"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"image"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"width")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token number"}),"200"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"image"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"height")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token number"}),"200"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"image"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"style"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"display")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"block",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"image"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"src")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," url",Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// Update the tippy content with the image"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"setContent"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),"image",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"catch"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"error")," ",Object(n.b)("span",o({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// Fallback if the network request failed"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"setContent"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token template-string"}),Object(n.b)("span",o({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(n.b)("span",o({parentName:"span"},{className:"token string"}),"Request failed. "),Object(n.b)("span",o({parentName:"span"},{className:"token interpolation"}),Object(n.b)("span",o({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),"error",Object(n.b)("span",o({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),Object(n.b)("span",o({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),"\n",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"There are currently two problems with this:"),Object(n.b)("ul",null,Object(n.b)("li",{parentName:"ul"},"When the tippy is hidden, it doesn't reset back to ",Object(n.b)("code",o({parentName:"li"},{className:"language-text"}),"Loading...")),Object(n.b)("li",{parentName:"ul"},"If you quickly hover in and out of the tippy, it initiates many different\nrequests and each image rapidly replaces the old one as each request finishes")),Object(n.b)("p",null,"The first one can be solved by using the ",Object(n.b)("code",o({parentName:"p"},{className:"language-text"}),"onHidden")," lifecycle, which is executed\nonce the tippy fully transitions out and is unmounted from the DOM:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(n.b)("pre",o({parentName:"div"},{className:"language-js"}),Object(n.b)("code",o({parentName:"pre"},{className:"language-js"}),Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"tippy"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"#ajax-tippy",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// ..."),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"onHidden"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"setContent"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"Loading...",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),"\n",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"The second one requires some state:"),Object(n.b)("div",{className:"gatsby-highlight","data-language":"js"},Object(n.b)("pre",o({parentName:"div"},{className:"language-js"}),Object(n.b)("code",o({parentName:"pre"},{className:"language-js"}),Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"tippy"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"#ajax-tippy",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),",")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// ..."),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"onCreate"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// Setup our own custom state properties"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_isFetching")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token boolean"}),"false"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_src")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token nil keyword"}),"null"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_error")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token nil keyword"}),"null"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"onShow"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token control keyword"}),"if")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_isFetching")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"||")," ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_src")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"||")," ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_error"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token control keyword"}),"return"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),"\n\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_isFetching")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token boolean"}),"true"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"fetch"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"https://unsplash.it/200/?random",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"then"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"response")," ",Object(n.b)("span",o({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"response"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"blob"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"then"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"blob")," ",Object(n.b)("span",o({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token keyword"}),"const")," ",Object(n.b)("span",o({parentName:"code"},{className:"token constant"}),"src")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token constant"}),"URL"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"createObjectURL"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),"blob",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_src")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," src",Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// ..."),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"catch"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"error")," ",Object(n.b)("span",o({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_error")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," error",Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"setContent"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token template-string"}),Object(n.b)("span",o({parentName:"span"},{className:"token template-punctuation string"}),"`"),Object(n.b)("span",o({parentName:"span"},{className:"token string"}),"Request failed. "),Object(n.b)("span",o({parentName:"span"},{className:"token interpolation"}),Object(n.b)("span",o({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"${"),"error",Object(n.b)("span",o({parentName:"span"},{className:"token interpolation-punctuation punctuation"}),"}")),Object(n.b)("span",o({parentName:"span"},{className:"token template-punctuation string"}),"`")),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"finally"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")")," ",Object(n.b)("span",o({parentName:"code"},{className:"token arrow operator"}),"=>")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n        ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_isFetching")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token boolean"}),"false"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n      ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token function"}),"onHidden"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token parameter"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")")," ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"{"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token func method"}),"setContent"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"("),Object(n.b)("span",o({parentName:"code"},{className:"token string"}),Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'"),"Loading...",Object(n.b)("span",o({parentName:"span"},{className:"token punctuation"}),"'")),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token comment"}),"// Unset these properties so new network requests can be initiated"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_src")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token nil keyword"}),"null"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n    ",Object(n.b)("span",o({parentName:"code"},{className:"token object"}),"instance"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),"."),Object(n.b)("span",o({parentName:"code"},{className:"token access property"}),"_error")," ",Object(n.b)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.b)("span",o({parentName:"code"},{className:"token nil keyword"}),"null"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),"\n",Object(n.b)("span",o({parentName:"code"},{className:"token block"}),"}"),Object(n.b)("span",o({parentName:"code"},{className:"token block"}),")"),Object(n.b)("span",o({parentName:"code"},{className:"token punctuation"}),";")))),Object(n.b)("p",null,"Currently, the image instantly replaces the ",Object(n.b)("code",o({parentName:"p"},{className:"language-text"}),"Loading...")," text without any smooth\ntransition. How do we make it so the tooltip smoothly transitions in height?"),Object(n.b)("p",null,Object(n.b)("a",o({parentName:"p"},{href:"/tippyjs/animations/#dimensions-transition"}),"See the Animations page for details"),"."))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-ajax-mdx-9e82ba0e986053af3622.js.map